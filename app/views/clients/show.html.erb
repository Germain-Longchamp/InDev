<section class="sec-layout sec-clients-index">
    <div class="container">
        <div class="row mb40">

            <div class="col-12">
                <div class="breadcrumbs">
                    <ul>
                        <li>
                            <a href="<%= board_path %>">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 278.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"/></svg>
                                Tableau de bord
                            </a>
                        </li>
                        <li>
                            <a href="<%= clients_path %>">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 278.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"/></svg>
                                Clients
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="col-12">
                <div class="mb32">
                    <h1><%= @client.name %></h1>
                </div>
            </div>

            <div class="col-12">
                <% @designs.each do |design| %>
                <div class="card-design">
                    <%= design.name%>
                    <a href="<%= design.url  %>" target="_blank">Lien</a>
                    <%= link_to 'Destroy', design, method: :delete, data: { confirm: 'Are you sure?' } %>
                </div>
                <% end %>
            </div>

            <!--Error Message-->
            <% if @designs.length() == 0 %>
            <div class="col-12">
                <div class="sec-clients-index__error">
                    <span>Pas de maquette disponible</span>
                </div>
            </div>
            <% end %>

            <div class="col-12">
                <div class="mt32">
                    <a class="btn-add js-show-panel" data-target="add-design">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"/></svg>
                        Nouvelle maquette
                    </a>
                </div>
            </div>


            <div class="panel panel-right" data-panel="add-design">
                <div class="panel__overlay"></div>
                <div class="panel__column">
                    <div class="panel__close">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"/></svg>
                    </div>
                    <div class="panel-column__inner">
                        <div class="form form-create-design">
                            <div class="form__heading">Nouvelle maquette</div>
                            <%= simple_form_for(@design) do |f| %>
                                <%= f.error_notification %>
                                <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>
                                <div class="form__fieldset">
                                    <div class="form__input form__input--full">
                                    <%= f.input :name, :label => 'Nom' %>
                                    </div>
                                </div>
                                <div class="form__fieldset">
                                    <div class="form__input form__input--full">
                                    <%= f.input :url, :label => 'Lien' %>
                                    </div>
                                </div>
                                <%= f.hidden_field :client_id, :value => @client.id %>
                                <%= f.hidden_field :company_id, :value => current_user.company_id %>
                                <div class="form__actions">
                                    <%= f.button :submit, :value => 'Ajouter' %>
                                </div>   
                            <% end %>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>